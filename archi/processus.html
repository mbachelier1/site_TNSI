
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Gestion ds processus - NSI au Lycée Henri Avril</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gestion-des-processus" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="NSI au Lycée Henri Avril" class="md-header__button md-logo" aria-label="NSI au Lycée Henri Avril" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NSI au Lycée Henri Avril
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gestion ds processus
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Mode sombre"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Mode sombre" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Mode clair"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Mode clair" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../index.html" class="md-tabs__link">
      Accueil
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Structure/listes_piles_files.html" class="md-tabs__link">
        Structures de données
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../BDD/modele_relationnel.html" class="md-tabs__link">
        Bases de données
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Programmation/recursivite.html" class="md-tabs__link">
        Programmation
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="crypto.html" class="md-tabs__link md-tabs__link--active">
        Architecture et OS
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="NSI au Lycée Henri Avril" class="md-nav__button md-logo" aria-label="NSI au Lycée Henri Avril" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    NSI au Lycée Henri Avril
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Accueil
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Structures de données
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Structures de données" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Structures de données
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Structure/listes_piles_files.html" class="md-nav__link">
        Listes piles et files 
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Structure/POO.html" class="md-nav__link">
        Programmation Orientée Objet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Structure/arbres.html" class="md-nav__link">
        Arbres
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Structure/graphes.html" class="md-nav__link">
        Les graphes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Bases de données
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Bases de données" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Bases de données
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../BDD/modele_relationnel.html" class="md-nav__link">
        Modèle relationnel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../BDD/langageSQL.html" class="md-nav__link">
        Langage SQL 
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../BDD/projet_SQL.html" class="md-nav__link">
        Projet SQL 
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Programmation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Programmation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Programmation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Programmation/recursivite.html" class="md-nav__link">
        Récursivité
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Programmation/modularite.html" class="md-nav__link">
        Modularité
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Programmation/projet_modularite.html" class="md-nav__link">
        Projet : Créer un module
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      <label class="md-nav__link" for="__nav_5">
        Architecture et OS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Architecture et OS" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Architecture et OS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="crypto.html" class="md-nav__link">
        Sécurisation des communications
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="enigma.html" class="md-nav__link">
        Et si on codait Enigma?
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="soc.html" class="md-nav__link">
        Système sur puce
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Gestion ds processus
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="processus.html" class="md-nav__link md-nav__link--active">
        Gestion ds processus
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quest-ce-quun-processus" class="md-nav__link">
    Qu'est-ce qu'un processus?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#etats-dun-processus" class="md-nav__link">
    Etats d'un processus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evolution-des-processus" class="md-nav__link">
    Evolution des processus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lordonnanceur" class="md-nav__link">
    L'ordonnanceur
  </a>
  
    <nav class="md-nav" aria-label="L'ordonnanceur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linterruption" class="md-nav__link">
    L'interruption
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interbloquage-ou-deadlock" class="md-nav__link">
    Interbloquage (ou deadlock)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions" class="md-nav__link">
    Questions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fiche-de-cours" class="md-nav__link">
    Fiche de cours
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="gestion-des-processus">Gestion des processus<a class="headerlink" href="#gestion-des-processus" title="Permanent link">⚓︎</a></h1>
<h2 id="quest-ce-quun-processus">Qu'est-ce qu'un processus?<a class="headerlink" href="#quest-ce-quun-processus" title="Permanent link">⚓︎</a></h2>
<p>Un programme écrit à l'aide d'un langage de haut de niveau (on parle de "code source") est, comme nous l'avons vu l'année dernière, transformé en langage machine afin de pouvoir être exécuté par un ordinateur.  </p>
<p>On appelle processus un programme en cours d'exécution. </p>
<div class="admonition caution">
<p class="admonition-title">Attention</p>
<p>Il ne faut pas confondre le code source du programme et un processus, qui lui correspond à l'exécution de ce programme par un ordinateur. Pour prendre une image assez classique, si une recette de cuisine correspond au code source du programme, le cuisinier en train de préparer cette recette dans sa cuisine correspond à un processus.   </p>
</div>
<h2 id="etats-dun-processus">Etats d'un processus<a class="headerlink" href="#etats-dun-processus" title="Permanent link">⚓︎</a></h2>
<p>Tous les systèmes d'exploitation "modernes" (Linux, Windows, macOS, Android, iOS...) sont capables de gérer l'exécution de plusieurs processus en même temps. Mais pour être précis, cela n'est pas en véritable "en même temps", mais plutôt un "chacun son tour". Pour gérer ce "chacun son tour", les systèmes d'exploitation attribuent des "états" au processus.</p>
<p><strong>Voici les différents états :</strong></p>
<p><img align="left" alt="schema processus" src="img/etat_processus.PNG" />
- Lors du démarrage d'un programme ou de l'ouverture d'un nouvel onglet par exemple, un processus est créé, il estdans l'état <strong>nouveau</strong>.
- Lorsqu'un processus est en train de s'exécuter (qu'il utilise le microprocesseur), on dit que le processus est dans l'état <strong>en exéution</strong>.
- Un processus qui se trouve dans l'état en exéution peut demander à accéder à une ressource pas forcément disponible instantanément (par exemple lire une donnée sur le disque dur). Le processus ne peut pas poursuivre son exécution tant qu'il n'a pas obtenu cette ressource. En attendant de recevoir cette ressource, il passe de l'état "en exéution" à l'état <strong>en attente</strong>.  </p>
<p>Lorsque le processus finit par obtenir la ressource attendue, celui-ci peut potentiellement reprendre son exécution. Mais comme nous l'avons vu ci-dessus, les systèmes d'exploitation permettent de gérer plusieurs processus "en même temps", mais un seul processus peut se trouver dans un état "en exéution" (le microprocesseur ne peut "s'occuper" que d'un seul processus à la fois). Quand un processus passe d'un état "en exéution" à un état "en attente", un autre processus peut alors "prendre sa place" et passer dans l'état "en exéution". Le processus qui vient de recevoir la ressource attendue ne va donc pas forcément pouvoir reprendre son exécution tout de suite, car pendant qu'il était dans un état "en attente" un autre processus a "pris sa place". Un processus qui quitte l'état en attente ne repasse pas forcément à l'état "en exéution", il peut, en attendant que "la place se libère" passer dans l'état <strong>prêt</strong> (sous entendu "j'ai obtenu ce que j'attendais, je suis prêt à reprendre mon exécution dès que la "place sera libérée"").</p>
<ul>
<li>une fois le processus terminé il passe dans l'état <strong>arrêté</strong>.</li>
</ul>
<p>Le passage de l'état "prêt" vers l'état "en exéution" constitue l'opération "d'élection". Le passage de l'état en exéution vers l'état en attente est l'opération de "blocage". Un processus est toujours créé dans l'état "prêt". Pour se terminer, un processus doit obligatoirement se trouver dans l'état "en exéution". </p>
<h2 id="evolution-des-processus">Evolution des processus<a class="headerlink" href="#evolution-des-processus" title="Permanent link">⚓︎</a></h2>
<p>Dans un système monotâche (processeur simple coeur pour simplifier) une seule tâche peut être exécutée à la fois.</p>
<div class="admonition example">
<p class="admonition-title">Un exemple concret</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Etapes de mes recettes</label><div class="tabbed-content">
<p>Imaginons que je doive préparer seule le repas comprenant des boulettes de viande en plat et un gâteau en dessert Je pourrai choisir de faire l'un d'abord et l'autre ensuite, mais il y aura des temps de latence qui me ferai perdre mon temps. Par exemple pendant que le beurre fond j'attends au lieu de faire autre chose.<br />
Voici les étapes de la préparation de mes boulettes :</p>
<ol>
<li>émincer l'oignon (nécessite le mixeur)</li>
<li>peler mes tomates (nécessite le microonde)</li>
<li>mélanger la viande, les tomates et l'oignon (nécessite le mixeur)</li>
<li>Façonner les boulettes (nécessite mes mains)</li>
<li>Cuire les boulettes (nécessite le four)</li>
</ol>
<p>Et les étapes de la préparation de mon gateau :</p>
<ol>
<li>Mélanger les ingrédients secs (mains)</li>
<li>faire fondre le beurre (microonde)</li>
<li>faire fondre le chocolat (microonde)</li>
<li>mélanger le tout (mains)</li>
<li>cuire (four)</li>
</ol>
<p>Certaines ressources vont devoir être partagées et certaines étapes vont devoir attendre que la ressource se libère. Je ne ferai pas fondre le chocolat en meme temps que le beurre (mon microonde est extrèmement petit).</p>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Ordre de réalisation</label><div class="tabbed-content">
<p>Je vais donc choisir de faire les choses dans cet ordre :</p>
<ol>
<li>émincer l'oignon (nécessite le mixeur)</li>
<li>Mélanger les ingrédients secs (mains)</li>
<li>peler mes tomates (nécessite le microonde)</li>
<li>faire fondre le beurre (microonde) <em>il va falloir attendre la fin de l'étape 3 avat de passer à la 4</em></li>
<li>mélanger la viande, les tomates et l'oignon (nécessite le mixeur) <em>RAS le mixeur est libre</em></li>
<li>faire fondre le chocolat (microonde) <em>RAS le beurre a fini de fondre</em></li>
<li>Façonner les boulettes (nécessite mes mains) <em>les boulettes sont prêtes à cuire le four est libre et le gateau n'est pas fini</em></li>
<li>Cuire les boulettes (nécessite le four)</li>
<li>mélanger le tout (mains) *pendant que les boulettes cuisent je finis le gâteau</li>
<li>cuire (four)</li>
</ol>
</div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">vocabulaire</p>
<p>Chaque étape de ma recette est une étape de processus est appelée <strong>thread</strong>. Le <strong>processus</strong> est alors la recette entière.  </p>
</div>
<p>Les différentes tâches (thread) d'un ordinateur sont réalisées de cette façon lorsque plusieurs applications sont ouvertes en même temps. Chaque programme attend son tour et la disponibilité de la ressource.</p>
<div class="admonition note">
<p class="admonition-title">Comment aurais-je pu aller plus vite?</p>
<p>En demandant de l'aide à quelqu'un, j'aurai pu réaliser les préparation réellement en <strong>parallèle</strong> alors qu'ici je les ai réaliser en <strong>concurrence</strong>.
C'est le principe du processeur multicoeur. Chaque coeur fera une chose à la fois mais les différents coeurs trvaiallent en parallèle.</p>
</div>
<p><strong>Arrêt d'un processus</strong>
S'il a fini d'être exécuté le processus s'arrête.<br />
Si une tâche fait "planter" le processeur (on verra plus tard pour quelle raison) on peut "tuer" le processus à l'aide d'une commande <code>kill</code>ou le fâmeux <code>fin de tâche``de Windows.</code></p>
<p><img align="right" alt="arborescence processus" src="https://pixees.fr/informatiquelycee/n_site/img/nsi_term_archi_proc_2.png" /></p>
<p>Un processus peut créer un ou plusieurs processus à l'aide d'une commande système . Imaginons un processus A qui crée un processus B. On dira que A est le père de B et que B est le fils de A. B peut, à son tour créé un processus C (B sera le père de C et C le fils de B). On peut modéliser ces relations père/fils par une structure arborescente.</p>
<p>Le tout premier processus s'appelle <code>ìnit</code> et il est créé à partir de rien. 
PID et PPID</p>
<p>Chaque processus possède un identifiant appelé PID (Process Identification), ce PID est un nombre. Le premier processus créé au démarrage du système à pour PID 0, le second 1, le troisième 2... Le système d'exploitation utilise un compteur qui est incrémenté de 1 à chaque création de processus, le système utilise ce compteur pour attribuer les PID aux processus.</p>
<p>Chaque processus possède aussi un PPID (Parent Process Identification). Ce PPID permet de connaitre le processus parent d'un processus (par exemple le processus "init" vu ci-dessus à un PID de 1 et un PPID de 0). À noter que le processus 0 ne possède pas de PPID (c'est le seul dans cette situation). </p>
<div class="admonition faq">
<p class="admonition-title">Mais qui décide?</p>
<p>Il va donc falloir partager le temps de processeur disponible entre tous les processus : c’est le travail de l’ordonnanceur (ou scheduler en anglais).
Ce dernier a pour tâche de sélectionner le processus suivant à exécuter parmi ceux qui sont prêts.  </p>
</div>
<h2 id="lordonnanceur">L'ordonnanceur<a class="headerlink" href="#lordonnanceur" title="Permanent link">⚓︎</a></h2>
<h3 id="linterruption">L'interruption<a class="headerlink" href="#linterruption" title="Permanent link">⚓︎</a></h3>
<p>Pour éviter qu'une tâche ne monopolise une ressource ou un processeur de façon trop longue, un programme apelé <code>gestionnaire d'interruption</code>interrompt le processus toutes les 100ns (à la création du premier processeur INTEL c'était toutes les 55ms). Le processeur reprend alors la main et décide si la tâche peut continuer ou si on passe à une autre.<br />
Les interruptions peuvent aussiavoir lieu lorsqu'une tâche change d'état (par exemple une attente d'entrée au clavier) ou lorsqu'elle est terminée.
Les processus peuvent être plus ou moins priroritaires. En effet, si votre document met une demi seconde de plus à s'enregistrer vous ne verrez pas la différence. En revanche si votre musique s'interrompt une demie seconde il y a de forte chance pour que vous vous en rendiez compte.<br />
Sous Linux, on peut passer des consignes à l’ordonnanceur en fixant des priorités aux processus dont on est propriétaire.
Cette priorité est un nombre entre -20 (plus prioritaire) et +20 (moins prioritaire).</p>
<div class="admonition summary">
<p class="admonition-title">liste des commandes linux sur les processus</p>
<table>
<thead>
<tr>
<th align="center">commande</th>
<th align="center">Description</th>
<th align="center">Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">ps</td>
<td align="center">Affiche l’état des processus en cours</td>
<td align="center"><code>ps -a</code> : affiche les processus de tous les utilisateurs</td>
</tr>
<tr>
<td align="center">pstree</td>
<td align="center">Affiche un arbre des processus</td>
<td align="center"><code>pstree -a</code> désactive le compactage des branches</td>
</tr>
<tr>
<td align="center">top</td>
<td align="center">Affiche une vue dynamique des processus en cours d’exécution</td>
<td align="center"><code>top -H</code> affiche les threads en plus des processus</td>
</tr>
<tr>
<td align="center">kill</td>
<td align="center">termine le processus</td>
<td align="center"><code>kill 42</code> termine le processus de PID 42</td>
</tr>
<tr>
<td align="center">renice</td>
<td align="center">redefinit la priorité du processus</td>
<td align="center"><code>renice +10 42</code> redefinit à 10 la priorité du PID 42</td>
</tr>
</tbody>
</table>
</div>
<h2 id="interbloquage-ou-deadlock">Interbloquage (ou deadlock)<a class="headerlink" href="#interbloquage-ou-deadlock" title="Permanent link">⚓︎</a></h2>
<p><img align="left" alt="carrefour" src="https://lecluseo.frama.io/leclusemaths/nsi/NSI_T/archi/process/carrefour.png" />
Les interblocages sont des situations de la vie quotidienne. Un exemple est celui du carrefour avec priorité à droite où chaque véhicule est bloqué car il doit laisser le passage au véhicule à sa droite.  </p>
<p>En informatique également, l'interblocage peut se produire lorsque des processus concurrents s'attendent mutuellement. Les processus bloqués dans cet état le sont définitivement. Ce scénario catastrophe peut se produire dans un environnement où des ressources sont partagées entre plusieurs processus et l'un d'entre eux détient indéfiniement une ressource nécessaire pour l'autre.</p>
<p>Cette situation d'interblocage a été théorisée par l'informatitien Edward Coffman (1934-) qui a énoncé quatre conditions (appelées conditions de coffman) menant à l'interblocage :</p>
<ul>
<li>Exclusion mutuelle : au moins une des ressources du système doit être en accès exclusif.</li>
<li>Rétention des ressources : un processus détient au moins une ressource et requiert une autre ressource détenue par un autre processus</li>
<li>Non préemption : Seul le détenteur d'une ressource peut la libérer.</li>
<li>Attente circulaire : Chaque processus attend une ressource détenue par un autre processus. P_1 attend une ressource détenue par P_2 qui à son tour attend une ressource détenue par P_3 etc... qui attend une ressource détenue par P_1 ce qui clos la boucle.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exemple</p>
<p>Accès aux périphériques. Supposons que deux processus A et B veulent imprimer, en utilisant la même imprimante, un fichier stocké sur une bande magnétique. La taille de ce fichier est supérieure à la capacité du disque.
Chaque processus a besoin d’un accès exclusif au dérouleur et à l’imprimante. On a une situation d’interblocage si :</p>
<ul>
<li>Le processus A utilise l’imprimante et demande l’accès au dérouleur.</li>
<li>Le processus B détient le dérouleur de bande et demande l’imprimante.
<img alt="Interblocage" src="img/interbloc.PNG" /></li>
</ul>
</div>
<h2 id="questions">Questions<a class="headerlink" href="#questions" title="Permanent link">⚓︎</a></h2>
<ol>
<li>Donner les cinq états possible d'un processus.</li>
<li>Compléter le schéma sivat ainsi que la légende correspondant au changemet d'état.
<img alt="schéma à compléter" src="img/schema_processus_a_acompleter.PNG" /></li>
<li>En vous basant sur le schéma d'arborescence, donnez le PID (en partant du principe qu'il est créé juste après init) et le PPID du processus "getty". </li>
<li>Identifiez et explicitez sur l'exemple du carrefour à priorité à droite les 4 conditions de Coffman menant à l'interblocage.  </li>
<li>Dans l'exmple donné ci-dessus, Montrer que les conditions d’interlocage de Coffman sont réunies</li>
<li>Imaginez des situations de la vie quotidienne - comme l'exemple du carrefour - où un interblocage peut survenir.</li>
<li>Supposons deux processus A et B qui demandent des accès exclusifs aux enregistrements d’une base de données E1 et E2. Imaginez un interblocage dans cette situation. </li>
</ol>
<h2 id="fiche-de-cours">Fiche de cours<a class="headerlink" href="#fiche-de-cours" title="Permanent link">⚓︎</a></h2>
<p>Faites une fiche résumé ou une carte mentale reprenant, la définition d'un processus, l'odonnancement de plusiurs processus et le principe de l'interblocage</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="soc.html" class="md-footer__link md-footer__link--prev" aria-label="Précédent: Système sur puce" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Précédent
              </span>
              Système sur puce
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.top", "toc.integrate", "header.autohide"], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.76f349be.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.9.2/dist/mermaid.min.js"></script>
      
        <script src="../javascripts/mermaid.js"></script>
      
    
  </body>
</html>